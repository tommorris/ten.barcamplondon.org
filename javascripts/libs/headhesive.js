/*!
 * headhesive v1.1.1 - An on-demand sticky header
 * Url: http://markgoodyear.com/labs/headhesive
 * Copyright (c) Mark Goodyear — @markgdyr — http://markgoodyear.com
 * License: MIT
 */
!function(e,t,s){"use strict";function n(e){for(var t=0;e;)t+=e.offsetTop,e=e.offsetParent;return t}var i=function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]="object"==typeof t[s]?i(e[s],t[s]):t[s]);return e},o=function(e,t){var s,n,i,o=Date.now||function(){return(new Date).getTime()},r=null,a=0,l=function(){a=o(),r=null,i=e.apply(s,n),s=n=null};return function(){var c=o(),h=t-(c-a);return s=this,n=arguments,0>=h?(clearTimeout(r),r=null,a=c,i=e.apply(s,n),s=n=null):r||(r=setTimeout(l,h)),i}},r=function(){return e.pageYOffset!==s?e.pageYOffset:(t.documentElement||t.body.parentNode||t.body).scrollTop},a=function(s,n){"querySelector"in t&&"addEventListener"in e&&(this.visible=!1,this.options={offset:300,classes:{clone:"headhesive",stick:"headhesive--stick",unstick:"headhesive--unstick"},throttle:250,onInit:function(){},onStick:function(){},onUnstick:function(){},onDestroy:function(){}},this.elem="string"==typeof s?t.querySelector(s):s,this.options=i(this.options,n),this.init())};a.prototype={constructor:a,init:function(){if(this.clonedElem=this.elem.cloneNode(!0),this.clonedElem.className+=" "+this.options.classes.clone,t.body.insertBefore(this.clonedElem,t.body.firstChild),"number"==typeof this.options.offset)this.scrollOffset=this.options.offset;else{if("string"!=typeof this.options.offset)throw new Error("Invalid offset: "+this.options.offset);this.scrollOffset=n(t.querySelector(this.options.offset))}this._throttleUpdate=o(this.update.bind(this),this.options.throttle),e.addEventListener("scroll",this._throttleUpdate,!1),this.options.onInit.call(this)},destroy:function(){t.body.removeChild(this.clonedElem),e.removeEventListener("scroll",this._throttleUpdate),this.options.onDestroy.call(this)},stick:function(){this.visible||(this.clonedElem.className=this.clonedElem.className.replace(new RegExp("(^|\\s)*"+this.options.classes.unstick+"(\\s|$)*","g"),""),this.clonedElem.className+=" "+this.options.classes.stick,this.visible=!0,this.options.onStick.call(this))},unstick:function(){this.visible&&(this.clonedElem.className=this.clonedElem.className.replace(new RegExp("(^|\\s)*"+this.options.classes.stick+"(\\s|$)*","g"),""),this.clonedElem.className+=" "+this.options.classes.unstick,this.visible=!1,this.options.onUnstick.call(this))},update:function(){r()>this.scrollOffset?this.stick():this.unstick()}},e.Headhesive=a}(window,document);